<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claw Spire</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="game-board">
        <!-- Global Tooltip -->
        <div id="tooltip-container"></div>

        <!-- Title Screen -->
        <div id="view-title" class="view active">
            <h1>CLAW SPIRE</h1>
            <button id="btn-start-game" class="btn-start">Start Game</button>
        </div>

        <!-- Class Selection -->
        <div id="view-class" class="view">
            <h1 style="color: #eee; margin-bottom: 20px;">Choose Your Hero</h1>
            <div id="class-selection" class="class-container">
                <!-- Injected via JS -->
            </div>
        </div>

        <!-- Map Screen -->
        <div id="view-map" class="view">
            <h2 style="color: #f1c40f;">The Spire Map</h2>
            <div id="map-container">
                <!-- Injected via JS -->
            </div>
        </div>

        <!-- Combat Screen -->
        <div id="view-combat" class="view">
            <!-- Top Bar -->
            <div class="top-bar">
                <div id="potions-container" class="potions-bar">
                    <!-- Potions injected here -->
                </div>
                <div style="color: #aaa;">Draw Pile: <span id="draw-pile-count">0</span></div>
                <div style="color: #aaa;">Discard: <span id="discard-pile-count">0</span></div>
            </div>

            <div class="combat-area">
                <div id="background-layers">
                    <div id="bg-far" class="bg-layer"></div>
                    <div id="bg-near" class="bg-layer"></div>
                    <div id="bg-ground" class="bg-layer"></div>
                </div>

                <!-- Grid Battlefield -->
                <div id="grid-battlefield">
                    <div id="grid-overlay"></div>
                    <!-- Player Entity -->
                    <div id="player-entity" class="entity grid-entity">
                        <div class="hp-bar-container">
                            <div id="player-hp-fill" class="hp-fill"></div>
                            <div id="player-block-fill" class="block-fill" style="width: 0%"></div>
                        </div>
                        <div id="player-hp-text" style="font-weight: bold; margin-top: 5px;">80/80</div>
                        
                        <div id="player-block-container" class="block-icon">
                            üõ°Ô∏è <span id="player-block">0</span>
                        </div>

                        <div class="entity-sprite">üßô‚Äç‚ôÇÔ∏è</div>
                    </div>

                    <!-- Enemy Entity -->
                    <div id="enemy-entity" class="entity grid-entity">
                        <div class="intent-display">
                            <div id="enemy-intent" class="intent-icon">‚ùì</div>
                        </div>

                        <div id="enemy-sprite" class="entity-sprite">üëπ</div>
                    </div>
                </div>

                <div class="hp-bar-container">
                    <div id="enemy-hp-fill" class="hp-fill"></div>
                </div>
                <div id="enemy-hp-text" style="font-weight: bold; margin-top: 5px;">50/50</div>
                
                <div id="enemy-block-container" class="block-icon" style="top: -60px;">
                    üõ°Ô∏è <span id="enemy-block">0</span>
                    </div>
                </div>
            </div>

            <!-- UI Overlay -->
            <div class="ui-overlay">
                <div class="energy-orb" id="energy-val">3/3</div>
                <button class="end-turn-btn" onclick="endTurn()">End Turn</button>
            </div>

            <!-- Hand -->
            <div id="hand-container">
                <!-- Cards injected here -->
            </div>
        </div>

        <!-- Reward Screen -->
        <div id="view-reward" class="view">
            <div class="reward-container">
                <h2 style="color: #f1c40f;">Victory!</h2>
                <p>Choose a card to add to your deck:</p>
                <div id="reward-choices" class="card-choices">
                    <!-- Cards injected here -->
                </div>
            </div>
        </div>

        <!-- Event Screen -->
        <div id="view-event" class="view">
            <div class="event-container" style="text-align: center; color: white; max-width: 600px; margin: 50px auto;">
                <h2 id="event-title" style="color: #f1c40f; font-size: 2em; margin-bottom: 20px;">Unknown Event</h2>
                <div id="event-image" style="font-size: 4em; margin-bottom: 20px;">‚ùì</div>
                <p id="event-desc" style="font-size: 1.2em; line-height: 1.5; margin-bottom: 40px; white-space: pre-wrap;">
                    You stumble upon something weird.
                </p>
                <div id="event-options" style="display: flex; flex-direction: column; gap: 10px;">
                    <!-- Options injected here -->
                </div>
            </div>
        </div>

        <!-- Shop Screen -->
        <div id="view-shop" class="view">
            <div class="shop-container">
                <div class="shop-header">
                    <h2 style="color: #f1c40f;">The Merchant</h2>
                    <div class="player-gold-display">üí∞ <span id="shop-gold-display">0</span></div>
                    <button class="btn-leave-shop" onclick="nextFloor()">Leave Shop</button>
                </div>
                
                <div class="shop-section">
                    <h3>Cards</h3>
                    <div id="shop-cards" class="shop-items-row">
                        <!-- Cards injected -->
                    </div>
                </div>

                <div class="shop-section">
                    <h3>Relics</h3>
                    <div id="shop-relics" class="shop-items-row">
                        <!-- Relics injected -->
                    </div>
                </div>

                <div class="shop-section">
                    <h3>Potions</h3>
                    <div id="shop-potions" class="shop-items-row">
                        <!-- Potions injected -->
                    </div>
                </div>

                <div class="shop-section">
                    <h3>Services</h3>
                    <div id="shop-services" class="shop-items-row">
                        <!-- Removal/Potions injected -->
                    </div>
                </div>
                
                <div id="shop-message" class="shop-message">Welcome...</div>
            </div>
        </div>

    </div>

    <script src="game.js"></script>
</body>
</html>
